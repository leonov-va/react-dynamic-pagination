{"version":3,"sources":["App.js","index.js"],"names":["App","useState","photos","setPhotos","currentPage","setCurrentPage","fetching","setFetching","totalCount","setTotalCount","useEffect","axios","get","then","response","data","prevPage","headers","finally","document","addEventListener","handleScroll","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","length","className","map","photo","src","thumbnailUrl","alt","title","id","ReactDOM","render","StrictMode","getElementById"],"mappings":"0QA+DeA,MA3Df,WAAgB,IAAD,EACeC,mBAAS,IADxB,mBACNC,EADM,KACEC,EADF,OAEyBF,mBAAS,GAFlC,mBAENG,EAFM,KAEOC,EAFP,OAGmBJ,oBAAS,GAH5B,mBAGNK,EAHM,KAGIC,EAHJ,OAIuBN,mBAAS,GAJhC,mBAINO,EAJM,KAIMC,EAJN,KAMbC,qBAAU,WACJJ,GACFK,IACGC,IADH,sEAEmER,IAEhES,MAAK,SAACC,GACLX,EAAU,GAAD,mBAAKD,GAAL,YAAgBY,EAASC,QAClCV,GAAe,SAACW,GAAD,OAAcA,EAAW,KACxCP,EAAcK,EAASG,QAAQ,qBAEhCC,SAAQ,kBAAMX,GAAY,QAE9B,CAACD,IAEJI,qBAAU,WAGR,OAFAS,SAASC,iBAAiB,SAAUC,GAE7B,WACLF,SAASG,oBAAoB,SAAUD,MAExC,IAEH,IAAMA,EAAe,SAACE,GAKlBA,EAAEC,OAAOC,gBAAgBC,cACtBH,EAAEC,OAAOC,gBAAgBE,UAAYC,OAAOC,aAC7C,KACF3B,EAAO4B,OAAStB,GAEhBD,GAAY,IAIhB,OACE,qBAAKwB,UAAU,MAAf,SACE,qBAAKA,UAAU,SAAf,SACG7B,EAAO8B,KAAI,SAACC,GAAD,OACV,yBAAuBF,UAAU,QAAjC,UACE,qBAAKG,IAAKD,EAAME,aAAcC,IAAKH,EAAMI,QACzC,uCACGJ,EAAMK,GADT,IACcL,EAAMI,WAHTJ,EAAMK,YC/C7BC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtB,SAASuB,eAAe,W","file":"static/js/main.83d5eae8.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport \"./App.css\";\n\nfunction App() {\n  const [photos, setPhotos] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fetching, setFetching] = useState(true);\n  const [totalCount, setTotalCount] = useState(1);\n\n  useEffect(() => {\n    if (fetching) {\n      axios\n        .get(\n          `https://jsonplaceholder.typicode.com/photos?_limit=12&_page=${currentPage}`\n        )\n        .then((response) => {\n          setPhotos([...photos, ...response.data]);\n          setCurrentPage((prevPage) => prevPage + 1);\n          setTotalCount(response.headers[\"x-total-count\"]);\n        })\n        .finally(() => setFetching(false));\n    }\n  }, [fetching]);\n\n  useEffect(() => {\n    document.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      document.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  const handleScroll = (e) => {\n    // bottomLine = e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100;\n    // photo availability check = photos.length < totalCount\n\n    if (\n      e.target.documentElement.scrollHeight -\n        (e.target.documentElement.scrollTop + window.innerHeight) <\n        100 &&\n      photos.length < totalCount\n    ) {\n      setFetching(true);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"photos\">\n        {photos.map((photo) => (\n          <figure key={photo.id} className=\"photo\">\n            <img src={photo.thumbnailUrl} alt={photo.title} />\n            <figcaption>\n              {photo.id} {photo.title}\n            </figcaption>\n          </figure>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}